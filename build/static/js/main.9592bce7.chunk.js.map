{"version":3,"sources":["service/persons.js","Components/Filter.js","Components/PersonForm.js","Components/Person.js","Components/Persons.js","Components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","res","data","newObject","post","id","put","delete","Filter","handleFilter","onChange","e","PersonForm","setNewName","setNewNumber","newName","newNumber","handleClick","target","value","type","onClick","Person","person","handleDelete","name","number","Persons","showAll","persons","filtered","map","key","Notification","message","style","color","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setShowAll","setFiltered","setMessage","useEffect","personService","initialPersons","className","filteredCopy","filter","toLowerCase","includes","preventDefault","people","find","updatedPerson","setTimeout","catch","err","response","error","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9592bce7.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst baseUrl = '/api/people';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((res) => res.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((res) => res.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((res) => res.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((res) => res.data);\r\n};\r\n\r\nexport default { getAll, create, update, deletePerson };\r\n","import React from 'react';\r\n\r\nconst Filter = ({ handleFilter }) => {\r\n  return (\r\n    <div>\r\n      Filter By Name: <input onChange={(e) => handleFilter(e)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n  setNewName,\r\n  setNewNumber,\r\n  newName,\r\n  newNumber,\r\n  handleClick\r\n}) => {\r\n  return (\r\n    <div>\r\n      <form>\r\n        <div>\r\n          Name:{' '}\r\n          <input onChange={(e) => setNewName(e.target.value)} value={newName} />\r\n          <br />\r\n          Number:{' '}\r\n          <input\r\n            onChange={(e) => setNewNumber(e.target.value)}\r\n            value={newNumber}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" onClick={(e) => handleClick(e)}>\r\n            add\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}{' '}\r\n      <button onClick={() => handleDelete(person.id)}>Delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ showAll, persons, filtered, handleDelete }) => {\r\n  if (showAll) {\r\n    return (\r\n      <div>\r\n        {persons.map((person) => (\r\n          <div key={person.id}>\r\n            <Person handleDelete={handleDelete} person={person} />{' '}\r\n          </div>\r\n        ))}\r\n        <br />\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div>\r\n      {filtered.map((person) => (\r\n        <Person key={person.name} person={person} />\r\n      ))}\r\n      <br />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n  const messageStyle = {\r\n    color: 'black',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  };\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return <div style={messageStyle}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react';\nimport personService from './service/persons';\n\nimport Filter from './Components/Filter';\nimport PersonForm from './Components/PersonForm';\nimport Persons from './Components/Persons';\nimport Notification from './Components/Notification';\n\nimport './App.css';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [showAll, setShowAll] = useState(true);\n  const [filtered, setFiltered] = useState([]);\n\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const addPerson = (e) => {\n    e.preventDefault();\n\n    personService.getAll().then((people) => {\n      const person = people.find((person) => person.name === newName);\n      if (person) {\n        const updatedPerson = { name: person.name, number: newNumber };\n        personService\n          .update(person.id, updatedPerson)\n          .then((res) => {\n            personService.getAll().then((people) => setPersons(people));\n            setNewName('');\n            setNewNumber('');\n            setMessage(`Updated number for ${person.name}`);\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          })\n          .catch((err) => {\n            setMessage(err.response.data.error);\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          });\n      } else {\n        const person = { name: newName, number: newNumber };\n        personService\n          .create(person)\n          .then((res) => {\n            personService.getAll().then((people) => setPersons(people));\n            setNewName('');\n            setNewNumber('');\n            setMessage(`Created new contact for ${newName}`);\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          })\n          .catch((err) => {\n            setMessage(err.response.data.error);\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          });\n      }\n    });\n  };\n\n  const handleFilter = (e) => {\n    setFiltered([]);\n    if (e.target.value === '') {\n      setShowAll(true);\n      return;\n    }\n    setShowAll(false);\n    const filteredCopy = persons.filter((person) =>\n      person.name.toLowerCase().includes(e.target.value.toLowerCase())\n    );\n    setFiltered(filteredCopy);\n  };\n\n  const deletePerson = (id) => {\n    const person = persons.find((person) => person.id === id);\n    if (window.confirm(`are you sure you want to delete ${person.name}? `)) {\n      personService.deletePerson(id).then((res) => {\n        setPersons(persons.filter((person) => person.id !== id));\n      });\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"phonebook\">\n        <h2 className=\"main-title\">Phonebook</h2>\n        <Notification message={message} />\n        <Filter handleFilter={handleFilter} />\n\n        <h3 className=\"title\">Add a New Contact</h3>\n\n        <PersonForm\n          setNewName={setNewName}\n          setNewNumber={setNewNumber}\n          newName={newName}\n          newNumber={newNumber}\n          handleClick={addPerson}\n        />\n        <h3 className=\"title\">Contacts</h3>\n\n        <Persons\n          showAll={showAll}\n          persons={persons}\n          filtered={filtered}\n          handleDelete={deletePerson}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}